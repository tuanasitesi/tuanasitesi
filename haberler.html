<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sitemizden Haberler</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<style>
  body { background: #f8f9fa; font-family: Arial, sans-serif; padding-bottom: 160px !important; }
  .haber-kart { 
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
    border-radius: 12px; 
    overflow: hidden; 
    transition: 0.3s; 
    background: white;
  }
  .haber-kart:hover { transform: scale(1.01); }
  .haber-img { height: 200px; object-fit: cover; width: 100%; }
  .haber-baslik { font-size: 1.25rem; font-weight: bold; margin-top: 0.5rem; color: #0d6efd; }
  .haber-tarih { font-size: 0.9rem; color: #555; margin-bottom: 0.5rem; }
  .haber-aciklama { font-size: 1rem; color: #333; margin-bottom: 1rem; }
</style>
</head>
<body>

<!-- Header & Navigation -->
<div id="header-footer"></div>

<!-- Sayfa Başlığı -->
<div class="container py-5">
  <h1 class="text-center mb-4 text-primary">Sitemizden Haberler</h1>
  <div class="row" id="haberler-container">
    <!-- Haber kartları buraya gelecek -->
  </div>
</div>

<!-- Footer yükleme -->
<script>
  fetch('header-footer.html')
    .then(res => res.text())
    .then(data => {
      document.getElementById('header-footer').innerHTML = data;
    });
</script>

<script>
  // Tarihi "19 Haziran 2025" formatına çevirir
  function formatDate(isoString) {
    const date = new Date(isoString);
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return date.toLocaleDateString('tr-TR', options);
  }

  // Haberleri Google Apps Script API'sinden çek ve göster
  fetch('https://script.google.com/macros/s/AKfycbzdiQggg9XByg8nHX5gLY9tM926pR7kHCuAr_opRbjRlVXXB5acSoOlNPf5mqjYM30l/exec')
    .then(response => response.json())
    .then(haberler => {
      const container = document.getElementById('haberler-container');
      container.innerHTML = ''; // Önce içerik temizle
      haberler.forEach(haber => {
        const kart = document.createElement('div');
        kart.className = 'col-md-6 col-lg-4 mb-4';
        kart.innerHTML = `
          <div class="card haber-kart">
            <img src="${haber.gorsel}" alt="${haber.baslik}" class="haber-img" />
            <div class="card-body">
              <div class="haber-baslik">${haber.baslik}</div>
              <div class="haber-tarih">${formatDate(haber.tarih)}</div>
              <p class="haber-aciklama">${haber.aciklama}</p>
            </div>
          </div>
        `;
        container.appendChild(kart);
      });
    })
    .catch(err => {
      const container = document.getElementById('haberler-container');
      container.innerHTML = '<p class="text-danger text-center">Haberler yüklenemedi.</p>';
      console.error('Haber yükleme hatası:', err);
    });
</script>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
